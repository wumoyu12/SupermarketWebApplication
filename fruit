<html>
    <head>
        <title>Fruit Department</title>
        <link rel="stylesheet" href="/static/fruit.css">
        <script src="/static/fruit.js"></script>
    </head>

    <body>
        <header>
            <h1>Supermarket Admin - Fruit Department</h1>
            <div>
                <a href="/admin" id="btnback">Back to Departments</a>
                <a href="/" id="btnlogout">Logout</a>
            </div>
        </header>

        <div id="maincontent">
            <div id="departmentquestion">
                <h2>Add Fruit Department to Supermarket?</h2>
                <div id="deptbuttons">
                    <button id="btnadddept">Add Department</button>
                    <button id="btnskipdept">Skip for Now</button>
                </div>
            </div>

            <div id="products" style="display:none;">
                <h2>Fruit Products</h2>
                <div class="product">
                    <img src="/static/images/apple.jpg" alt="Apple">
                    <p>Apple</p>
                    <button class="btnaddproduct">Add to Supermarket</button>
                </div>
                <div class="product">
                    <img src="/static/images/pear.jpg" alt="Pear">
                    <p>Pear</p>
                    <button class="btnaddproduct">Add to Supermarket</button>
                </div>
                <div class="product">
                    <img src="/static/images/banana.jpg" alt="Banana">
                    <p>Banana</p>
                    <button class="btnaddproduct">Add to Supermarket</button>
                </div>
                <div class="product">
                    <img src="/static/images/strawberry.jpg" alt="Strawberry">
                    <p>Strawberry</p>
                    <button class="btnaddproduct">Add to Supermarket</button>
                </div>
                <div class="product">
                    <img src="/static/images/blueberry.jpg" alt="Blueberry">
                    <p>Blueberry</p>
                    <button class="btnaddproduct">Add to Supermarket</button>
                </div>
            </div>

            <div id="addproductform" style="display:none;">
                <h3>Set Price and Unit for <span id="productname"></span></h3>
                <form>
                    <table>
                        <tr>
                            <td><label>Price:</label></td>
                            <td><input type="number" step="0.01" id="txtprice" required></td>
                        </tr>
                        <tr>
                            <td><label>Per:</label></td>
                            <td>
                                <select id="selunit" required>
                                    <option value="">Select Unit</option>
                                    <option value="lb">lb</option>
                                    <option value="kg">kg</option>
                                    <option value="item">item</option>
                                    <option value="pack">pack</option>
                                    <option value="box">box</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><button type="submit" id="btnsubmit">Add Product</button></td>
                        </tr>
                    </table>
                </form>
            </div>
        </div>
    </body>
</html>

body {
    font-family: Arial;
    margin: 0;
    padding: 0;
    background-color: #f5f5f5;
    color: #333;
}

header {
    background-color: #2c3e50;
    color: white;
    padding: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

h1 {
    margin: 0;
    font-size: 1.8em;
}

#btnlogout, #btnback {
    color: white;
    text-decoration: none;
    padding: 8px 15px;
    border-radius: 4px;
    transition: background-color 0.3s;
    margin-left: 10px;
}

#btnlogout {
    background-color: #e74c3c;
}

#btnback {
    background-color: #3498db;
}

#btnlogout:hover {
    background-color: #c0392b;
}

#btnback:hover {
    background-color: #2980b9;
}

#maincontent {
    padding: 20px;
    max-width: 800px;
    margin: 0 auto;
}

h2, h3 {
    color: #2c3e50;
    border-bottom: 2px solid #3498db;
    padding-bottom: 10px;
}

#departmentquestion {
    text-align: center;
    margin-bottom: 30px;
}

#deptbuttons {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
}

#deptbuttons button {
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    font-size: 16px;
    cursor: pointer;
}

#btnadddept {
    background-color: #2ecc71;
    color: white;
}

#btnskipdept {
    background-color: #95a5a6;
    color: white;
}

#products {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.product {
    background-color: white;
    border-radius: 8px;
    padding: 15px;
    display: flex;
    align-items: center;
    gap: 20px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.product img {
    width: 100px;
    height: 100px;
    object-fit: cover;
    border-radius: 5px;
}

.product p {
    flex-grow: 1;
    font-weight: bold;
    margin: 0;
}

.btnaddproduct {
    padding: 8px 15px;
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

.btnaddproduct:hover {
    background-color: #2980b9;
}

#addproductform {
    background-color: white;
    border-radius: 8px;
    padding: 20px;
    margin-top: 20px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

table {
    width: 100%;
    border-collapse: collapse;
}

td {
    padding: 8px 0;
}

input, select {
    width: 100%;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
    box-sizing: border-box;
}

#btnsubmit {
    width: 100%;
    padding: 10px;
    background-color: #2ecc71;
    color: white;
    border: none;
    border-radius: 4px;
    font-size: 16px;
    cursor: pointer;
}

#btnsubmit:hover {
    background-color: #27ae60;
}

document.addEventListener('DOMContentLoaded', function() {
    const btnAddDept = document.getElementById('btnadddept');
    const btnSkipDept = document.getElementById('btnskipdept');
    const productsSection = document.getElementById('products');
    const deptQuestion = document.getElementById('departmentquestion');
    const addProductForm = document.getElementById('addproductform');
    const productNameSpan = document.getElementById('productname');
    const productForm = document.querySelector('#addproductform form');
    
    // Handle department addition
    btnAddDept.addEventListener('click', function() {
        deptQuestion.style.display = 'none';
        productsSection.style.display = 'block';
    });
    
    btnSkipDept.addEventListener('click', function() {
        window.location.href = '/admin';
    });
    
    // Handle product addition
    const addProductButtons = document.querySelectorAll('.btnaddproduct');
    addProductButtons.forEach(button => {
        button.addEventListener('click', function() {
            const productDiv = this.closest('.product');
            const productName = productDiv.querySelector('p').textContent;
            
            productNameSpan.textContent = productName;
            addProductForm.style.display = 'block';
            
            // Scroll to form
            addProductForm.scrollIntoView({ behavior: 'smooth' });
        });
    });
    
    // Handle form submission
    productForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const price = document.getElementById('txtprice').value;
        const unit = document.getElementById('selunit').value;
        const productName = productNameSpan.textContent;
        
        // Here you would typically send this data to the server
        alert(`Added ${productName} to supermarket at $${price} per ${unit}`);
        
        // Reset form and hide it
        this.reset();
        addProductForm.style.display = 'none';
    });
});
